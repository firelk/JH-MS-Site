$(function(){$.fn.setTransition=function(n){return this.each(function(){$(this).css({"-webkit-transition":n,"-moz-transition":n,"-ms-transition":n,"-o-transition":n,transition:n})})},$.fn.tickSlider=function(n){var t={value:1e3,min:1e3,max:1e4,step:100,stride:1e3,onChange:function(n){}},e=$.extend({},t,n||{});return this.each(function(){for(var n=$(this),t=$("<div/>").addClass("tick-slider"),i=$("<span/>").addClass("mark").prependTo($("<label/>").html("<span>å…ƒ</span>").appendTo($("<div/>").addClass("slider-label").appendTo(t))),a=$("<div/>").addClass("slider-box").appendTo(t),s=$("<div/>").addClass("slider-tick-box").appendTo(a),o=parseInt(e.min,10),r=parseInt(e.max,10),d=parseInt(e.step,10),l=parseInt(e.stride,10),c=o;c<=r;c+=d){var u=$("<div/>").addClass("tick").appendTo(s);c%l==0&&(u.addClass("stride"),u.html("<label>"+c+"</label>"))}$("<div/>").addClass("slider-tick-line").appendTo(t),t.appendTo(n);var f=s.find(".tick").first().width(),p=function(n){return Math.max(o,Math.min(r,n))},m=function(n){return-1*parseInt(Math.abs(p(n)-o)/d*f)},v=m(r),h=function(n){return Math.max(Math.min(n,0),v)},g=function(n){return o+parseInt(Math.abs(d*h(n)/f))},T=function(){return parseInt(i.text(),10)},x=function(n){s.css({"margin-left":h(n)})},C=function(n){(n=p(n))!=T()&&(i.text(n),$.isFunction(e.onChange)&&e.onChange(n)),x(m(n)),s.data("sliding","")};C(e.value);var b={min:v,max:0,increase:!0,_startLeft:0,startCoord:null,slideDistance:0,startTime:0,slideTime:0,slidable:!1,getCoord:function(t){var e={x:0,y:0};try{e=t.touches?{x:t.touches[0].pageX,y:t.touches[0].pageY}:t.originalEvent&&t.originalEvent.touches?{x:t.originalEvent.touches[0].pageX,y:t.originalEvent.touches[0].pageY}:{x:t.pageX,y:t.pageY};var i=n.offset()||{left:0,top:0};e.x=e.x-i.left,e.y=e.y-i.top}catch(t){e={x:0,y:0}}return e},onStart:function(n){var t=this;t.slidable||"sliding"===s.data("sliding")||(t.slidable=!0,t._startLeft=m(T()),t.startCoord=t.getCoord(n),t.increase=t.startCoord.x>=a.width()/2,t.startTime=+new Date,t.slideDistance=0,t.slideTime=0)},onMove:function(n){var t=this;if(t.slidable){var e=t.getCoord(n);t.slideDistance=t.startCoord.x-e.x,x(t._startLeft-t.slideDistance)}},onEnd:function(n){var t=this;if(t.slidable)if(t.slidable=!1,t.slideTime=+new Date-t.startTime,Math.abs(t.slideDistance)>f||t.slideTime>200){var e=Math.ceil((t.slideDistance+200*t.slideDistance/t.slideTime)/f),i=(T(),m(T()+e*d));i!=h(t._startLeft-t.slideDistance)?(s.data("sliding","sliding").setTransition("margin 400ms cubic-bezier(0.15,0.5,0.4,1)"),x(i),s.on(transitionEnd,function(){$(this).data("sliding","").setTransition("none").off(transitionEnd),C(g(i))})):(s.data("sliding","").setTransition("none").off(transitionEnd),C(g(i)))}else s.data("sliding","").setTransition("none").off(transitionEnd),C(t.increase?T()+d:T()-d)}};SUPPORT_ONLY_TOUCH?a.off().on("touchstart",function(n){b.onStart(n)}).on("select",function(n){n.preventDefault()}).on("scroll",function(n){n.preventDefault()}).on("mousedown mousemove","img",function(n){n.preventDefault()}).on("touchmove",function(n){n.preventDefault(),b.onMove(n)}).on("touchend touchcancel",function(n){b.onEnd(n)}):a.off().on("mousedown",function(n){b.onStart(n)}).on("select",function(n){n.preventDefault()}).on("scroll",function(n){n.preventDefault()}).on("mousedown mousemove","img",function(n){n.preventDefault()}).on("mousemove",function(n){n.preventDefault(),b.onMove(n)}).on("mouseup mouseleave",function(n){b.onEnd(n)})})}});