var x_application_id="VAYHH5",secret_key="50599c881f2a81198ee2e7f36b6130135229fcc5458e525d",base_url="http://basic5.msxf.lotest/credit_auth/",ua=navigator.userAgent||navigator.vendor||window.opera,CLIENT={trident:/(Trident)/i.test(ua),presto:/(Presto)/i.test(ua),webKit:/(AppleWebKit)/i.test(ua),gecko:/(Trident)/i.test(ua),ios:!!ua.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:/(Android|Linux)/i.test(ua),iPhone:/(iPhone|Mac)/i.test(ua),iPad:/(iPad)/i.test(ua),wechat:/(MicroMessenger)/i.test(ua),qq:/(QQ)/i.test(ua),pc:!/(Android|iPhone|iPod|iOS|SymbianOS|Windows Phone)/i.test(ua),mobile:/mobile|tablet|ip(ad|hone|od)|android/i.test(ua)},SUPPORT_TOUCH="ontouchstart"in window,SUPPORT_ONLY_TOUCH=SUPPORT_TOUCH&&CLIENT.mobile,animationEnd="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oAnimationEnd animationend",transitionEnd="webkitTransitionEnd mozTransitionEnd MSTransitionEnd oTransitionEnd transitionend",KEYCODE={Backspace:8,Tab:9,Enter:13,Shift:16,Ctrl:17,Alt:18,Pause:19,CapsLock:20,Esc:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,Left:37,Up:38,Right:39,Down:40,Print:44,Insert:45,Delete:46,Help:47,Number:[48,49,50,51,52,53,54,55,56,57,96,97,98,99,100,101,102,103,104,105],Letter:[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90]},MOBILE_RULES={mobile:"134|135|136|137|138|139|147|150|151|152|157|158|159|178|182|183|184|187|188",unicom:"130|131|132|145|155|156|176|185|186",telecom:"133|149|153|173|177|180|181|189",virtual:"170|171"},RULES={required:function(t){return $.isNotEmpty(t)},name:function(t){return/^[\u4E00-\u9FA5][\u0391-\uFFE5\.]{0,18}[\u4E00-\u9FA5]$/.test(t)},bankCard:function(t){return/^[\d]{14,19}$/.test(t)},idCard:function(t){if(/(^\d{17}([0-9]|X|x)$)/.test(t)){var e=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],n=["1","0","X","9","8","7","6","5","4","3","2"],a=0;$.each(e,function(e,n){a+=n*parseInt(t.charAt(e))});var i=n[a%n.length],o=t.charAt(e.length);return"x"==o&&(o="X"),i==o}return/(^\d{15}$)/.test(t)},mobile:function(t){if(/(^[1][0-9]{10}$)/.test(t)){var e=[];for(var n in MOBILE_RULES){var a=MOBILE_RULES[n];e.push(a)}return new RegExp("^"+e.join("|")).test(t)}return!1},smsCode:function(t){return/^[\d]{4,8}$/.test(t)},address:function(t){return/[\u4E00-\u9FA5]+/.test(t)&&t.match(/[\u4E00-\u9FA5]/gm).length>=5&&String(t).length<=50},checked:function(t){return $("#agreement-radio").is(":checked")}},FakeStorage=function(){function t(){}return t.prototype={setItem:function(t,e){this[t]=e},getItem:function(t){return void 0===this[t]?null:this[t]},removeItem:function(t){this[t]=void 0},clear:function(){for(var t in this)this.hasOwnProperty(t)&&this.removeItem(t)},key:function(t){return Object.keys(this)[t]}},new t}(),STORAGE=function(t){this.target=window[t];try{var e="testKey"+(new Date).getTime();this.target.setItem(e,"1"),this.target.removeItem(e)}catch(t){this.target=FakeStorage}};STORAGE.prototype={set:function(t,e){this.target.setItem(t,e)},get:function(t){return this.target.getItem(t)||""},setJSON:function(t,e){this.target.setItem(t,JSON.stringify(e))},getJSON:function(t){return JSON.parse(this.target.getItem(t)||"{}")},remove:function(t){this.target.removeItem(t)},clear:function(){this.target.clear()},key:function(t){this.target.key(t)}};var CommonUtil={htmlEncode:function(t){return document.createElement("div").appendChild(document.createTextNode(t)).parentNode.innerHTML},htmlDecode:function(t){var e=document.createElement("div");return e.innerHTML=t,e.textContent},getQueryString:function(t,e){var n=/\?/.test(t)?t.split("?")[1]:t;return new RegExp("(^|&)"+e+"=([^&]*)(&|$)").test(n)?RegExp.$2:""},getAP:function(t){var e=window._sitePath||"/";return/^[^\/]/.test(t)&&!/(:\/\/)/.test(t)?/\/$/.test(e)?e+t:e+"/"+t:t},redirectUrl:function(t){location.href=this.getAP(t)},replaceUrl:function(t){location.replace(this.getAP(t))},reloadPage:function(t){if(t){var e=window.location.href;e+=(/\?/.test(e)?"&":"?")+"_="+ +new Date,window.location.replace(e)}else window.location.reload()},getUrlParam:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(e);return null!=n?unescape(n[2]):null},sessionStorage:new STORAGE("sessionStorage"),localStorage:new STORAGE("localStorage"),parseHttpResponse:function(t){var e="",n=null,a=null;arguments.length>1&&($.isFunction(arguments[1])?(n=arguments[1],a=arguments[2]):(e=arguments[1],n=arguments[2],a=arguments[3]));var i=$.isNotEmpty(e);if($.isNotEmpty(t))if(0==t.errorCode)i?$.success(e+"成功",n):$.isFunction(n)&&n();else{var o=$.empty2def(t.errorMsg);i?$.error($.empty2def(o,e+"失败"),function(){$.isFunction(a)&&a(o)}):$.isFunction(a)&&a(o)}else i?$.error(e+"异常",a):$.isFunction(a)&&a()},getBankInfo:function(t){var e=null;return $.isArray(window.BANKCARD)&&$.each(window.BANKCARD,function(n,a){if(a&&a.start_with&&new RegExp("^"+a.start_with).test(t))return e=a,!1}),e},regionLinkage:function(t){var e={rootCode:"000000",pCodeField:"parentCode",valueField:"code",textField:"name",prompt:"请选择",province:{target:"",value:""},city:{target:"",value:""},county:{target:"",value:""}},n=$.extend(!0,{},e,t),a=n.pCodeField,i=n.valueField,o=n.textField,r=n.prompt,s=n.itemSelector,d=n.province,l=n.city,c=n.county,u=$(d.target),p=$(l.target),v=$(c.target);console.log(1111,v);var f=function(t){var e=$(t.target);e.empty(),$.isNotEmpty(r)&&e.append('<option value="" selected>'+r+"</option>").trigger("change")},h=function(t,e){var n=$(t.target),r=t.value,s=t.onLoadSuccess;t.onLoadError;if($.isEmpty(e)||!window.CITYS)f(t);else{var d=[];$.each(window.CITYS.sort(),function(t,n){n[a]==e&&d.push(n)});var l=[],c=!1;$.each(d,function(t,e){var n=e[i],a=e[o],s="";$.isNotEmpty(n)&&r==n&&(s="selected",c=!0),l.push('<option value="'+n+'" '+s+">"+a+"</option>")}),n.append(l.join("")),c&&n.trigger("change"),$.isFunction(s)&&s()}};u.length&&(f(d),f(l),f(c),console.log(d,l,c),u.on("change",function(){if(p.length){f(l),f(c);var t=$(this).val();h(l,t)}var e=$(this).val();console.log(e,"province value");var n=d.onChange;if($.isFunction(n)){var a=$(this).find('option[value="'+e+'"]').text();n.call(this,{value:e,text:a})}$.isEmpty(e)?$(this).closest(s).next(s).hide():$(this).closest(s).next(s).show().find("SELECT").click()}).closest(s).show(),console.log(p,"$city111"),p.length&&(f(l),f(c),p.on("change",function(){if(v.length){f(c);var t=$(this).val();h(c,t)}var e=$(this).val();console.log(e,"city value");var n=l.onChange;if($.isFunction(n)){var a=$(this).find('option[value="'+e+'"]').text();n.call(this,{value:e,text:a})}$.isEmpty(e)?$(this).closest(s).next(s).hide():$(this).closest(s).next(s).show()}),console.log(v,"$county"),v.length&&(f(c),v.on("change",function(){var t=c.onChange;if($.isFunction(t)){var e=$(this).val(),n=$(this).find('option[value="'+e+'"]').text();t.call(this,{value:e,text:n})}}))),h(d,n.rootCode))}};!function(t,e,n){"use strict";n.extend(n,{isEmpty:function(t){return null==t||""===t},isNotEmpty:function(t){return!this.isEmpty(t)},empty2def:function(){for(var t="",e=arguments.length,n=0;n<e;n++)if(this.isNotEmpty(arguments[n])){t=arguments[n];break}return t},filterHTML:function(t){return(t=this.empty2def(t))instanceof String?t.replace(/<[^>]*>/g,""):t},encodeHTMLTag:function(t){var e=t;return this.isNotEmpty(t)&&(e=t.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/ /g,"&nbsp;").replace(/\'/g,"&#39;").replace(/\"/gm,"&quot;")),e},decodeHTMLTag:function(t){var e=t;return this.isNotEmpty(t)&&(e=t.replace(/(&lt;)/gm,"<").replace(/(&gt;)/gm,">").replace(/(&nbsp;)/g," ").replace(/(&#39;)/g,"'").replace(/(&quot;)/gm,'"').replace(/(&amp;)/gm,"&")),e},showPreloader:function(){var t=n(".preloader-modal.modal-overlay");0==t.length&&(t=n("<div/>").addClass("preloader-modal modal-overlay").html(n("<div/>").addClass("preloader")).appendTo(n("body"))),t.addClass("modal-overlay-visible")},hidePreloader:function(){n(".preloader-modal.modal-overlay-visible").removeClass("modal-overlay-visible")},toast:function(t,e,a){var i=isNaN(e)||e<0?2e3:e,o=n.isFunction(e)?e:n.isFunction(a)?a:function(){},r=n("<div/>").addClass("toast").html("<label>"+t+"</label>").appendTo(n("body"));return r.addClass("toast-in"),setTimeout(function(){r.remove(),o()},i),r},iconModal:function(t,e,a,i){var o=isNaN(a)||a<0?2e3:a,r=n.isFunction(a)?a:n.isFunction(i)?i:function(){},s=n("<div/>").addClass("modal-overlay").appendTo(n("body")),d=n("<div/>").addClass("modal").appendTo(s.addClass("modal-overlay-visible")),l=n("<div/>").addClass("modal-wrapper").appendTo(d),c=n("<div/>").addClass("modal-inner").appendTo(l);return c.append('<div class="modal-icon"><img src="'+t+'"/></div>'),c.append('<div class="modal-text">'+e+"</div>"),setTimeout(function(){s.remove(),r()},o),s},hint:function(t,e,n){return this.iconModal("img/icon/modal-hint.png",t,e,n)},success:function(t,e,n){return this.iconModal("img/icon/modal-success.png",t,e,n)},warn:function(t,e,n){return this.iconModal("img/icon/modal-warn.png",t,e,n)},error:function(t,e,n){return this.iconModal("img/icon/modal-error.png",t,e,n)},alert:function(t,e,a){var i=n("<div/>").addClass("modal-overlay").appendTo(n("body")),o=n("<div/>").addClass("modal").appendTo(i.addClass("modal-overlay-visible")),r=n("<div/>").addClass("modal-wrapper").appendTo(o),s=n("<div/>").addClass("modal-inner").appendTo(r);n.isFunction(e)?a=e:n.isNotEmpty(e)&&s.append('<div class="modal-title">'+e+"</div>"),s.append('<div class="modal-text">'+t+"</div>");var d=n("<div/>").addClass("modal-buttons").appendTo(s);return n('<span class="modal-button">确定</span>').on("click",function(){n.isFunction(a)&&a(),i.remove()}).appendTo(d),i},alert2:function(t,e,a){var i=n("<div/>").addClass("modal-overlay").appendTo(n("body")),o=n("<div/>").addClass("modal").appendTo(i.addClass("modal-overlay-visible")),r=n("<div/>").addClass("modal-wrapper").appendTo(o),s=n("<div/>").addClass("modal-inner").appendTo(r);return n.isFunction(e)?e:n.isNotEmpty(e)&&s.append('<div class="modal-title">'+e+"</div>"),s.append('<div class="modal-text">'+t+"</div>"),i},confirm:function(t,e,a,i){var o=n("<div/>").addClass("modal-overlay").appendTo(n("body")),r=n("<div/>").addClass("modal").appendTo(o.addClass("modal-overlay-visible")),s=n("<div/>").addClass("modal-wrapper").appendTo(r),d=n("<div/>").addClass("modal-inner").appendTo(s),l=a,c=i;n.isFunction(e)?(l=e,c=a):n.isNotEmpty(e)&&d.append('<div class="modal-title">'+e+"</div>"),d.append('<div class="modal-text">'+t+"</div>");var u=n("<div/>").addClass("modal-buttons group").appendTo(d);return n('<span class="modal-button">取消</span>').on("click",function(){n.isFunction(c)&&c(),o.remove()}).appendTo(u),n('<span class="modal-button">确定</span>').on("click",function(){n.isFunction(l)&&l(),o.remove()}).appendTo(u),o}}),n.extend(n.fn,{addEnterListener:function(t){var e=function(e){if(!n(this).is("textarea"))return parseInt(e.keyCode||e.which,10)==KEYCODE.Enter&&n.isFunction(t)&&t.call(this,e),!1};return n(this).off({keyup:e}).on({keyup:e}),this},serializeJSON:function(){var t={},e=this.serializeArray();return n.each(e,function(){t.hasOwnProperty(this.name)?(n.isArray(t[this.name])||(t[this.name]=[t[this.name]]),t[this.name].push(n.empty2def(this.value))):t[this.name]=n.empty2def(this.value)}),t},dateFormatFn:function(t,e){if(NaN==Number(t)||t.toString().length<9)return t;var n=new Date(t);e=e||"yyyy-MM-dd";var a={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),S:n.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in a)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?a[i]:("00"+a[i]).substr((""+a[i]).length)));return e},formData:function(t,e){return e=n.empty2def(e,"name"),this.each(function(){if(n.isPlainObject(t)){var a=n(this);for(var i in t)a.find("["+e+'="'+i+'"]').setValue(n.empty2def(t[i]))}})},setValue:function(t){return t=n.empty2def(t),this.each(function(){var e=n(this);if(e.is('[type="radio"]'))e.filter('[value="'+t+'"]').prop("checked",!0);else if(e.is('[type="checkbox"]')){a=t.split(",");n.each(a,function(t,n){e.filter('[value="'+n+'"]').prop("checked",!0)})}else if(e.is("select"))if(e.prop("multiple")){var a=t.split(",");n.each(a,function(t,n){e.find('option[value="'+n+'"]').prop("selected",!0)})}else e.find('option[value="'+t+'"]').prop("selected",!0).siblings("option").prop("selected",!1);else e.is("input,textarea")?e.val(t):e.setText(t)})},setText:function(t){return t=n.filterHTML(n.empty2def(t)),this.each(function(){var e=n(this),a=e.attr("data-dictionary");n.isNotEmpty(a)?e.text(Dictionary.text(a,t)):e.text(t)})},validator:function(t,e){var a=!0;return t=n.empty2def(t,{}),n.extend(t,RULES),n(this).find("[data-rule]:not(:disabled):not(.disabled)").removeAttr("data-rule-error").each(function(){var i=!0,o=n(this),r=o.val();o.is("[type=checkbox]")&&(r=o.is(":checked")?r:"");var s=o.attr("data-rule").split(" ");return n.each(s,function(s,d){if(t.hasOwnProperty(d)&&!t[d](r)){if(a=!1,o.attr("data-rule-error",!0),!1!==e){var l=o.attr("placeholder"),c=n.empty2def(o.attr("data-rule-"+d),o.attr("data-rule-msg"),l);n.warn("required"===d?n.empty2def(o.attr("data-rule-required"),l,c):c)}return i=!1,!1}}),i}),a},disable:function(t){return this.each(function(){var e=n(this);if(n.isEmpty(t))e.prop("disabled",!0).addClass("disabled");else{var a=n.empty2def(e.data("defaultText"),e.val(),e.html());e.data("defaultText",a).setValue(t).prop("disabled",!0).addClass("disabled")}})},enable:function(){return this.each(function(){var t=n(this),e=t.data("defaultText");n.isNotEmpty(e)&&t.setValue(e).data("defaultText",""),t.prop("disabled",!1).removeClass("disabled")})},countDown:function(t){var e=n.empty2def(t,60);return this.each(function(){var t=n(this),a=e;t.disable(a+" 秒");var i=function(){a>0?(t.disable(a+" 秒"),setTimeout(i,1e3)):t.enable(),a--};i()})}}),n.isFunction(n.fn.prevAll)||(n.fn.prevAll=function(t){for(var e=n(this),a=n(),i=e.prev();i.length;)(void 0===t||i.is(t))&&(a=a.add(i)),i=i.prev();return a}),n.isFunction(n().nextAll)||(n.fn.nextAll=function(t){for(var e=n(this),a=n(),i=e.next();i.length;)(void 0===t||i.is(t))&&(a=a.add(i)),i=i.next();return a});var a=[];n.ajaxLoad=!0,n(t).on("ajaxSend",function(t,e,i){var o=i.disable;o&&n(o).length&&a.push(n(o).disable()),(null==i.async||i.async)&&(n.ajaxLoad=n.empty2def(i.loading,!0),n.ajaxLoad&&n.showPreloader())}).on("ajaxStop",function(){for(n.hidePreloader(),n.ajaxLoad=!0;a.length;)a.shift().enable()});var i=n.ajax;n.ajax=function(){var t={timeout:0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",cache:!1,async:!0,disable:".button:not(:disabled):not(.disabled)",loading:!0};if("string"==typeof arguments[0]?n.extend(t,{url:n.empty2def(arguments[0])},n.empty2def(arguments[1],{})):n.extend(t,n.empty2def(arguments[0],{})),"GET"!=t.type.toUpperCase()&&/json/.test(t.contentType)){var e=t.data;e&&n.isPlainObject(e)&&(t.data=JSON.stringify(e))}var a=t.success;t.success=function(t,e,i){try{if(n.isNotEmpty(t)){var o=t;switch("string"==typeof o&&(o=JSON.parse(o)),o.errorCode){case"40011007":return void CommonUtil.redirectUrl("auth/login");case"40083015":var r=t.errorMsg||"";return void CommonUtil.redirectUrl("loan/applying?id="+r)}}n.isFunction(a)&&a(t,e,i)}catch(o){n.isFunction(a)&&a(t,e,i)}};var o=t.error;return t.error=function(t,e,a){n.isFunction(o)?o(t,e,a):n.error("对不起，系统异常，请稍候再试！")},i(t)};var o=function(t,e,a,i){var o=CommonUtil.getAP(t),r={},s=null,d={loading:!0};return n.isFunction(e)?(s=e,n.extend(!0,d,n.empty2def(a,{}))):(r=n.empty2def(e,{}),s=a,n.extend(!0,d,n.empty2def(i,{}))),n.extend({url:o,data:r,dataType:"json",success:s},d)};n.getJSON=function(t,e,a,i){return n.ajax(n.extend(o(t,e,a,i),{type:"GET"}))},n.postJSON=function(t,e,a,i){return n.ajax(n.extend(o(t,e,a,i),{type:"POST",contentType:"application/json; charset=UTF-8"}))},n.postForm=function(t,e,a,i){return n.ajax(n.extend(o(t,e,a,i),{type:"POST"}))},n(t).ready(function(){n.hidePreloader(),e.onpopstate=function(t){n.hidePreloader()},n(t).on("submit","form",function(t){return t.preventDefault(),!1}),n(t).on({touchstart:function(t){n(this).addClass("active")},"touchend touchcancel":function(t){n(this).removeClass("active")}},"button,.button,.item-link"),n(t).on({keypress:function(t){var e=t.keyCode||t.which;return-1!=n.inArray(e,[KEYCODE.Backspace,KEYCODE.Delete,KEYCODE.Tab,KEYCODE.Enter,KEYCODE.CapsLock,KEYCODE.Esc,KEYCODE.Up,KEYCODE.Down,KEYCODE.Left,KEYCODE.Right])||/^[\d]*$/.test(String.fromCharCode(e))},input:function(t){var e=n(this),a=e.val(),i=a.replace(/[^\d]/g,"");a!==i&&e.val(i)},keyup:function(t){var e=n(this),a=e.val(),i=a.replace(/[^\d]/g,"");a!==i&&e.val(i)}},"[acceptNumeric]"),n(t).on("propertychange change blur",".select-assistor+select,.select-assistor+input",function(t){var e=n(this),a=e.val(),i=e.prev(".select-assistor").val(a);n.isNotEmpty(a)&&e.is("select")&&i.val(n.trim(e.find('option[value="'+a+'"]').text()))}).on("focus",".select-assistor",function(t){n(this).next().focus()}).on("touchstart click",".popup .nav .back",function(t){t.preventDefault(),n(this).closest(".modal-in").removeClass("modal-in")}),n(".region-box").each(function(){var t=n(this);CommonUtil.regionLinkage({itemSelector:".region-item",province:{target:t.find("SELECT[data-region=provinceCode]"),value:t.find("SELECT[data-region=provinceCode]").data("value"),onChange:function(t){n(this).next("INPUT[data-region=provinceName]").val(t.text)}},city:{target:t.find("SELECT[data-region=cityCode]"),value:t.find("SELECT[data-region=cityCode]").data("value"),onChange:function(t){n(this).next("INPUT[data-region=cityName]").val(t.text)}},county:{target:t.find("SELECT[data-region=countyCode]"),value:t.find("SELECT[data-region=countyCode]").data("value"),onChange:function(t){n(this).next("INPUT[data-region=countyName]").val(t.text)}}})}),function(){var t=n(".fixed-bottom");if(t.length>0){var a=t.prev(),i=a.position().top+a.height()+t.height();i>n(e).height()&&t.css({position:"relative"}),n(e).on("resize",function(){i>n(e).height()?t.css({position:"relative"}):t.css({position:"fixed"})})}}()})}(document,window,window.jQuery||window.Zepto),Dictionary.load(function(){});var urlback=CommonUtil.getUrlParam("redirect_url");console.log(urlback);